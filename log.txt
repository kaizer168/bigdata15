$ sudo docker-compose build
[sudo] password for ubuntu: 
zookeeper uses an image, skipping
kafka uses an image, skipping
mysql uses an image, skipping
grafana uses an image, skipping
Building data-generator
Sending build context to Docker daemon  33.28kB
Step 1/9 : FROM maven:3.8-jdk-8-slim AS builder
 ---> f863be7bf36a
Step 2/9 : COPY ./src /opt/data-producer/src
 ---> Using cache
 ---> 226d6c89a974
Step 3/9 : COPY ./pom.xml /opt/data-producer/pom.xml
 ---> Using cache
 ---> d1b4cea3ec6f
Step 4/9 : RUN cd /opt/data-producer;     mvn clean install
 ---> Using cache
 ---> 55db6f8ae0dd
Step 5/9 : FROM openjdk:8-jre
 ---> d991802804b7
Step 6/9 : COPY --from=builder /opt/data-producer/target/data-generator-*.jar /opt/data-generator.jar
 ---> Using cache
 ---> 538fcf7ff963
Step 7/9 : RUN cd /opt
 ---> Using cache
 ---> d1edaf567344
Step 8/9 : COPY docker-entrypoint.sh /
 ---> Using cache
 ---> 3a7789dec85e
Step 9/9 : ENTRYPOINT ["/docker-entrypoint.sh"]
 ---> Using cache
 ---> 6af2825cf85e
Successfully built 6af2825cf85e
Successfully tagged apache/data-generator:1
Building jobmanager
Sending build context to Docker daemon  57.86kB
Step 1/8 : FROM maven:3.8-jdk-8-slim AS builder
 ---> f863be7bf36a
Step 2/8 : COPY ./pom.xml /opt/pom.xml
 ---> Using cache
 ---> 2c7c7ef8e8ce
Step 3/8 : COPY ./src /opt/src
 ---> Using cache
 ---> ac742219e574
Step 4/8 : RUN cd /opt; mvn clean install -Dmaven.test.skip
 ---> Using cache
 ---> e9bdb9946855
Step 5/8 : FROM apache/flink:1.14.4-scala_2.12-java8
 ---> 9b9f9da308b5
Step 6/8 : RUN wget -P /opt/flink/lib/ https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka_2.12/1.14.4/flink-sql-connector-kafka_2.12-1.14.4.jar;     wget -P /opt/flink/lib/ https://repo.maven.apache.org/maven2/org/apache/flink/flink-connector-jdbc_2.12/1.14.4/flink-connector-jdbc_2.12-1.14.4.jar;     wget -P /opt/flink/lib/ https://repo.maven.apache.org/maven2/org/apache/flink/flink-csv/1.14.4/flink-csv-1.14.4.jar;     wget -P /opt/flink/lib/ https://repo.maven.apache.org/maven2/mysql/mysql-connector-java/8.0.19/mysql-connector-java-8.0.19.jar;
 ---> Using cache
 ---> d4b405ccd983
Step 7/8 : COPY --from=builder /opt/target/spend-report-*.jar /opt/flink/usrlib/spend-report.jar
 ---> Using cache
 ---> 52bd1461b2bb
Step 8/8 : RUN echo "execution.checkpointing.interval: 10s" >> /opt/flink/conf/flink-conf.yaml;     echo "pipeline.object-reuse: true" >> /opt/flink/conf/flink-conf.yaml;     echo "pipeline.time-characteristic: EventTime" >> /opt/flink/conf/flink-conf.yaml;     echo "taskmanager.memory.jvm-metaspace.size: 256m" >> /opt/flink/conf/flink-conf.yaml;
 ---> Using cache
 ---> 57b93e091ec0
Successfully built 57b93e091ec0
Successfully tagged apache/flink-table-walkthrough:1-FLINK-1.14-scala_2.12
Building taskmanager
Sending build context to Docker daemon  57.86kB
Step 1/8 : FROM maven:3.8-jdk-8-slim AS builder
 ---> f863be7bf36a
Step 2/8 : COPY ./pom.xml /opt/pom.xml
 ---> Using cache
 ---> 2c7c7ef8e8ce
Step 3/8 : COPY ./src /opt/src
 ---> Using cache
 ---> ac742219e574
Step 4/8 : RUN cd /opt; mvn clean install -Dmaven.test.skip
 ---> Using cache
 ---> e9bdb9946855
Step 5/8 : FROM apache/flink:1.14.4-scala_2.12-java8
 ---> 9b9f9da308b5
Step 6/8 : RUN wget -P /opt/flink/lib/ https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-connector-kafka_2.12/1.14.4/flink-sql-connector-kafka_2.12-1.14.4.jar;     wget -P /opt/flink/lib/ https://repo.maven.apache.org/maven2/org/apache/flink/flink-connector-jdbc_2.12/1.14.4/flink-connector-jdbc_2.12-1.14.4.jar;     wget -P /opt/flink/lib/ https://repo.maven.apache.org/maven2/org/apache/flink/flink-csv/1.14.4/flink-csv-1.14.4.jar;     wget -P /opt/flink/lib/ https://repo.maven.apache.org/maven2/mysql/mysql-connector-java/8.0.19/mysql-connector-java-8.0.19.jar;
 ---> Using cache
 ---> d4b405ccd983
Step 7/8 : COPY --from=builder /opt/target/spend-report-*.jar /opt/flink/usrlib/spend-report.jar
 ---> Using cache
 ---> 52bd1461b2bb
Step 8/8 : RUN echo "execution.checkpointing.interval: 10s" >> /opt/flink/conf/flink-conf.yaml;     echo "pipeline.object-reuse: true" >> /opt/flink/conf/flink-conf.yaml;     echo "pipeline.time-characteristic: EventTime" >> /opt/flink/conf/flink-conf.yaml;     echo "taskmanager.memory.jvm-metaspace.size: 256m" >> /opt/flink/conf/flink-conf.yaml;
 ---> Using cache
 ---> 57b93e091ec0
Successfully built 57b93e091ec0
Successfully tagged apache/flink-table-walkthrough:1-FLINK-1.14-scala_2.12


$ sudo docker-compose up -d
Creating network "table-walkthrough_default" with the default driver
Creating table-walkthrough_mysql_1          ... done
Creating table-walkthrough_zookeeper_1 ... done
Creating table-walkthrough_kafka_1     ... done
Creating table-walkthrough_data-generator_1 ... done
Creating table-walkthrough_jobmanager_1     ... done
Creating table-walkthrough_grafana_1        ... done
Creating table-walkthrough_taskmanager_1    ... done


$ sudo docker-compose ps
           Name                         Command             State              Ports           
-----------------------------------------------------------------------------------------------
table-walkthrough_data-       /docker-entrypoint.sh         Up                                 
generator_1                                                                                    
table-walkthrough_grafana_1   /run.sh                       Up      0.0.0.0:3000->3000/tcp,:::3
                                                                    000->3000/tcp              
table-                        /docker-entrypoint.sh stan    Up      6123/tcp, 0.0.0.0:8082->808
walkthrough_jobmanager_1      ...                                   1/tcp,:::8082->8081/tcp    
table-walkthrough_kafka_1     start-kafka.sh                Up      0.0.0.0:9092->9092/tcp,:::9
                                                                    092->9092/tcp              
table-walkthrough_mysql_1     docker-entrypoint.sh --def    Up      3306/tcp, 33060/tcp        
                              ...                                                              
table-                        /docker-entrypoint.sh task    Up      6121/tcp, 6122/tcp,        
walkthrough_taskmanager_1     ...                                   6123/tcp, 8081/tcp         
table-                        /bin/sh -c /usr/sbin/sshd     Up      0.0.0.0:2181->2181/tcp,:::2
walkthrough_zookeeper_1       ...                                   181->2181/tcp, 22/tcp,     
                                                                    2888/tcp, 3888/tcp         
$ sudo docker-compose logs -f jobmanager
Attaching to table-walkthrough_jobmanager_1
jobmanager_1      | Starting Job Manager
jobmanager_1      | Starting standalonejob as a console application on host jobmanager.
jobmanager_1      | 2022-07-11 07:24:51,388 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - --------------------------------------------------------------------------------
jobmanager_1      | 2022-07-11 07:24:51,389 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  Preconfiguration: 
jobmanager_1      | 2022-07-11 07:24:51,389 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - 
jobmanager_1      | 
jobmanager_1      | 
jobmanager_1      | RESOURCE_PARAMS extraction logs:
jobmanager_1      | jvm_params: -Xmx1073741824 -Xms1073741824 -XX:MaxMetaspaceSize=268435456
jobmanager_1      | dynamic_configs: -D jobmanager.memory.off-heap.size=134217728b -D jobmanager.memory.jvm-overhead.min=201326592b -D jobmanager.memory.jvm-metaspace.size=268435456b -D jobmanager.memory.heap.size=1073741824b -D jobmanager.memory.jvm-overhead.max=201326592b
jobmanager_1      | logs: INFO  [] - Loading configuration property: jobmanager.rpc.address, jobmanager
jobmanager_1      | INFO  [] - Loading configuration property: jobmanager.rpc.port, 6123
jobmanager_1      | INFO  [] - Loading configuration property: jobmanager.memory.process.size, 1600m
jobmanager_1      | INFO  [] - Loading configuration property: taskmanager.memory.process.size, 1728m
jobmanager_1      | INFO  [] - Loading configuration property: taskmanager.numberOfTaskSlots, 1
jobmanager_1      | INFO  [] - Loading configuration property: parallelism.default, 1
jobmanager_1      | INFO  [] - Loading configuration property: jobmanager.execution.failover-strategy, region
jobmanager_1      | INFO  [] - Loading configuration property: execution.checkpointing.interval, 10s
jobmanager_1      | INFO  [] - Loading configuration property: pipeline.object-reuse, true
jobmanager_1      | INFO  [] - Loading configuration property: pipeline.time-characteristic, EventTime
jobmanager_1      | INFO  [] - Loading configuration property: taskmanager.memory.jvm-metaspace.size, 256m
jobmanager_1      | INFO  [] - Loading configuration property: blob.server.port, 6124
jobmanager_1      | INFO  [] - Loading configuration property: query.server.port, 6125
jobmanager_1      | INFO  [] - The derived from fraction jvm overhead memory (160.000mb (167772162 bytes)) is less than its min value 192.000mb (201326592 bytes), min value will be used instead
jobmanager_1      | INFO  [] - Final Master Memory configuration:
jobmanager_1      | INFO  [] -   Total Process Memory: 1.563gb (1677721600 bytes)
jobmanager_1      | INFO  [] -     Total Flink Memory: 1.125gb (1207959552 bytes)
jobmanager_1      | INFO  [] -       JVM Heap:         1024.000mb (1073741824 bytes)
jobmanager_1      | INFO  [] -       Off-heap:         128.000mb (134217728 bytes)
jobmanager_1      | INFO  [] -     JVM Metaspace:      256.000mb (268435456 bytes)
jobmanager_1      | INFO  [] -     JVM Overhead:       192.000mb (201326592 bytes)
jobmanager_1      | 
jobmanager_1      | 2022-07-11 07:24:51,390 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - --------------------------------------------------------------------------------
jobmanager_1      | 2022-07-11 07:24:51,390 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  Starting StandaloneApplicationClusterEntryPoint (Version: 1.14.4, Scala: 2.12, Rev:895c609, Date:2022-02-25T11:57:14+01:00)
jobmanager_1      | 2022-07-11 07:24:51,390 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  OS current user: flink
jobmanager_1      | 2022-07-11 07:24:51,390 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  Current Hadoop/Kerberos user: <no hadoop dependency found>
jobmanager_1      | 2022-07-11 07:24:51,390 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  JVM: OpenJDK 64-Bit Server VM - Oracle Corporation - 1.8/25.322-b06
jobmanager_1      | 2022-07-11 07:24:51,390 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  Maximum heap size: 981 MiBytes
jobmanager_1      | 2022-07-11 07:24:51,390 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  JAVA_HOME: /usr/local/openjdk-8
jobmanager_1      | 2022-07-11 07:24:51,391 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  No Hadoop Dependency available
jobmanager_1      | 2022-07-11 07:24:51,391 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  JVM Options:
jobmanager_1      | 2022-07-11 07:24:51,391 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -Xmx1073741824
jobmanager_1      | 2022-07-11 07:24:51,391 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -Xms1073741824
jobmanager_1      | 2022-07-11 07:24:51,391 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -XX:MaxMetaspaceSize=268435456
jobmanager_1      | 2022-07-11 07:24:51,392 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -Dlog.file=/opt/flink/log/flink--standalonejob-0-jobmanager.log
jobmanager_1      | 2022-07-11 07:24:51,393 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -Dlog4j.configuration=file:/opt/flink/conf/log4j-console.properties
jobmanager_1      | 2022-07-11 07:24:51,393 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -Dlog4j.configurationFile=file:/opt/flink/conf/log4j-console.properties
jobmanager_1      | 2022-07-11 07:24:51,393 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -Dlogback.configurationFile=file:/opt/flink/conf/logback-console.xml
jobmanager_1      | 2022-07-11 07:24:51,393 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  Program Arguments:
jobmanager_1      | 2022-07-11 07:24:51,393 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     --configDir
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     /opt/flink/conf
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -D
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     jobmanager.memory.off-heap.size=134217728b
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -D
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     jobmanager.memory.jvm-overhead.min=201326592b
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -D
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     jobmanager.memory.jvm-metaspace.size=268435456b
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -D
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     jobmanager.memory.heap.size=1073741824b
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     -D
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -     jobmanager.memory.jvm-overhead.max=201326592b
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] -  Classpath: /opt/flink/lib/flink-connector-jdbc_2.12-1.14.4.jar:/opt/flink/lib/flink-csv-1.14.4.jar:/opt/flink/lib/flink-json-1.14.4.jar:/opt/flink/lib/flink-shaded-zookeeper-3.4.14.jar:/opt/flink/lib/flink-sql-connector-kafka_2.12-1.14.4.jar:/opt/flink/lib/flink-table_2.12-1.14.4.jar:/opt/flink/lib/log4j-1.2-api-2.17.1.jar:/opt/flink/lib/log4j-api-2.17.1.jar:/opt/flink/lib/log4j-core-2.17.1.jar:/opt/flink/lib/log4j-slf4j-impl-2.17.1.jar:/opt/flink/lib/mysql-connector-java-8.0.19.jar:/opt/flink/lib/flink-dist_2.12-1.14.4.jar:::
jobmanager_1      | 2022-07-11 07:24:51,394 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - --------------------------------------------------------------------------------
jobmanager_1      | 2022-07-11 07:24:51,395 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Registered UNIX signal handlers for [TERM, HUP, INT]
jobmanager_1      | 2022-07-11 07:24:51,412 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: jobmanager.rpc.address, jobmanager
jobmanager_1      | 2022-07-11 07:24:51,413 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: jobmanager.rpc.port, 6123
jobmanager_1      | 2022-07-11 07:24:51,414 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: jobmanager.memory.process.size, 1600m
jobmanager_1      | 2022-07-11 07:24:51,415 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: taskmanager.memory.process.size, 1728m
jobmanager_1      | 2022-07-11 07:24:51,415 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: taskmanager.numberOfTaskSlots, 1
jobmanager_1      | 2022-07-11 07:24:51,416 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: parallelism.default, 1
jobmanager_1      | 2022-07-11 07:24:51,416 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: jobmanager.execution.failover-strategy, region
jobmanager_1      | 2022-07-11 07:24:51,418 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: execution.checkpointing.interval, 10s
jobmanager_1      | 2022-07-11 07:24:51,418 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: pipeline.object-reuse, true
jobmanager_1      | 2022-07-11 07:24:51,418 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: pipeline.time-characteristic, EventTime
jobmanager_1      | 2022-07-11 07:24:51,418 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: taskmanager.memory.jvm-metaspace.size, 256m
jobmanager_1      | 2022-07-11 07:24:51,419 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: blob.server.port, 6124
jobmanager_1      | 2022-07-11 07:24:51,419 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: query.server.port, 6125
jobmanager_1      | 2022-07-11 07:24:51,619 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Starting StandaloneApplicationClusterEntryPoint.
jobmanager_1      | 2022-07-11 07:24:51,642 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Install default filesystem.
jobmanager_1      | 2022-07-11 07:24:51,645 INFO  org.apache.flink.core.fs.FileSystem                          [] - Hadoop is not in the classpath/dependencies. The extended set of supported File Systems via Hadoop is not available.
jobmanager_1      | 2022-07-11 07:24:51,721 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Install security context.
jobmanager_1      | 2022-07-11 07:24:51,742 INFO  org.apache.flink.runtime.security.modules.HadoopModuleFactory [] - Cannot create Hadoop Security Module because Hadoop cannot be found in the Classpath.
jobmanager_1      | 2022-07-11 07:24:51,745 INFO  org.apache.flink.runtime.security.modules.JaasModule         [] - Jaas file will be created as /tmp/jaas-3435531048514889653.conf.
jobmanager_1      | 2022-07-11 07:24:51,748 INFO  org.apache.flink.runtime.security.contexts.HadoopSecurityContextFactory [] - Cannot install HadoopSecurityContext because Hadoop cannot be found in the Classpath.
jobmanager_1      | 2022-07-11 07:24:51,749 INFO  org.apache.flink.runtime.entrypoint.ClusterEntrypoint        [] - Initializing cluster services.
jobmanager_1      | 2022-07-11 07:24:52,073 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils        [] - Trying to start actor system, external address jobmanager:6123, bind address 0.0.0.0:6123.
jobmanager_1      | 2022-07-11 07:24:52,726 INFO  akka.event.slf4j.Slf4jLogger                                 [] - Slf4jLogger started
jobmanager_1      | 2022-07-11 07:24:52,755 INFO  akka.remote.RemoteActorRefProvider                           [] - Akka Cluster not in use - enabling unsafe features anyway because `akka.remote.use-unsafe-remote-features-outside-cluster` has been enabled.
jobmanager_1      | 2022-07-11 07:24:52,755 INFO  akka.remote.Remoting                                         [] - Starting remoting
jobmanager_1      | 2022-07-11 07:24:52,880 INFO  akka.remote.Remoting                                         [] - Remoting started; listening on addresses :[akka.tcp://flink@jobmanager:6123]
jobmanager_1      | 2022-07-11 07:24:53,014 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils        [] - Actor system started at akka.tcp://flink@jobmanager:6123
jobmanager_1      | 2022-07-11 07:24:53,036 INFO  org.apache.flink.configuration.Configuration                 [] - Config uses fallback configuration key 'jobmanager.rpc.address' instead of key 'rest.address'
jobmanager_1      | 2022-07-11 07:24:53,045 INFO  org.apache.flink.runtime.blob.BlobServer                     [] - Created BLOB server storage directory /tmp/blobStore-503cab97-4c62-4bf7-a387-1d88b7bdfa07
jobmanager_1      | 2022-07-11 07:24:53,050 INFO  org.apache.flink.runtime.blob.BlobServer                     [] - Started BLOB server at 0.0.0.0:6124 - max concurrent requests: 50 - max backlog: 1000
jobmanager_1      | 2022-07-11 07:24:53,058 INFO  org.apache.flink.runtime.metrics.MetricRegistryImpl          [] - No metrics reporter configured, no metrics will be exposed/reported.
jobmanager_1      | 2022-07-11 07:24:53,065 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils        [] - Trying to start actor system, external address jobmanager:0, bind address 0.0.0.0:0.
jobmanager_1      | 2022-07-11 07:24:53,110 INFO  akka.event.slf4j.Slf4jLogger                                 [] - Slf4jLogger started
jobmanager_1      | 2022-07-11 07:24:53,123 INFO  akka.remote.RemoteActorRefProvider                           [] - Akka Cluster not in use - enabling unsafe features anyway because `akka.remote.use-unsafe-remote-features-outside-cluster` has been enabled.
jobmanager_1      | 2022-07-11 07:24:53,123 INFO  akka.remote.Remoting                                         [] - Starting remoting
jobmanager_1      | 2022-07-11 07:24:53,160 INFO  akka.remote.Remoting                                         [] - Remoting started; listening on addresses :[akka.tcp://flink-metrics@jobmanager:41815]
jobmanager_1      | 2022-07-11 07:24:53,167 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils        [] - Actor system started at akka.tcp://flink-metrics@jobmanager:41815
jobmanager_1      | 2022-07-11 07:24:53,196 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting RPC endpoint for org.apache.flink.runtime.metrics.dump.MetricQueryService at akka://flink-metrics/user/rpc/MetricQueryService .
jobmanager_1      | 2022-07-11 07:24:53,248 INFO  org.apache.flink.configuration.Configuration                 [] - Config uses fallback configuration key 'jobmanager.rpc.address' instead of key 'rest.address'
jobmanager_1      | 2022-07-11 07:24:53,249 INFO  org.apache.flink.runtime.jobmaster.MiniDispatcherRestEndpoint [] - Upload directory /tmp/flink-web-24f769f4-b0a7-4201-a27e-49db6f5c92dc/flink-web-upload does not exist. 
jobmanager_1      | 2022-07-11 07:24:53,251 INFO  org.apache.flink.runtime.jobmaster.MiniDispatcherRestEndpoint [] - Created directory /tmp/flink-web-24f769f4-b0a7-4201-a27e-49db6f5c92dc/flink-web-upload for file uploads.
jobmanager_1      | 2022-07-11 07:24:53,323 INFO  org.apache.flink.runtime.jobmaster.MiniDispatcherRestEndpoint [] - Starting rest endpoint.
jobmanager_1      | 2022-07-11 07:24:53,504 INFO  org.apache.flink.runtime.webmonitor.WebMonitorUtils          [] - Determined location of main cluster component log file: /opt/flink/log/flink--standalonejob-0-jobmanager.log
jobmanager_1      | 2022-07-11 07:24:53,505 INFO  org.apache.flink.runtime.webmonitor.WebMonitorUtils          [] - Determined location of main cluster component stdout file: /opt/flink/log/flink--standalonejob-0-jobmanager.out
jobmanager_1      | 2022-07-11 07:24:53,683 INFO  org.apache.flink.runtime.jobmaster.MiniDispatcherRestEndpoint [] - Rest endpoint listening at jobmanager:8081
jobmanager_1      | 2022-07-11 07:24:53,683 INFO  org.apache.flink.runtime.jobmaster.MiniDispatcherRestEndpoint [] - http://jobmanager:8081 was granted leadership with leaderSessionID=00000000-0000-0000-0000-000000000000
jobmanager_1      | 2022-07-11 07:24:53,684 INFO  org.apache.flink.runtime.jobmaster.MiniDispatcherRestEndpoint [] - Web frontend listening at http://jobmanager:8081.
jobmanager_1      | 2022-07-11 07:24:53,720 INFO  org.apache.flink.runtime.dispatcher.runner.DefaultDispatcherRunner [] - DefaultDispatcherRunner was granted leadership with leader id 00000000-0000-0000-0000-000000000000. Creating new DispatcherLeaderProcess.
jobmanager_1      | 2022-07-11 07:24:53,726 INFO  org.apache.flink.runtime.dispatcher.runner.SessionDispatcherLeaderProcess [] - Start SessionDispatcherLeaderProcess.
jobmanager_1      | 2022-07-11 07:24:53,738 INFO  org.apache.flink.runtime.resourcemanager.ResourceManagerServiceImpl [] - Starting resource manager service.
jobmanager_1      | 2022-07-11 07:24:53,739 INFO  org.apache.flink.runtime.dispatcher.runner.SessionDispatcherLeaderProcess [] - Recover all persisted job graphs.
jobmanager_1      | 2022-07-11 07:24:53,739 INFO  org.apache.flink.runtime.dispatcher.runner.SessionDispatcherLeaderProcess [] - Successfully recovered 0 persisted job graphs.
jobmanager_1      | 2022-07-11 07:24:53,753 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting RPC endpoint for org.apache.flink.runtime.dispatcher.StandaloneDispatcher at akka://flink/user/rpc/dispatcher_0 .
jobmanager_1      | 2022-07-11 07:24:53,756 INFO  org.apache.flink.runtime.resourcemanager.ResourceManagerServiceImpl [] - Resource manager service is granted leadership with session id 00000000-0000-0000-0000-000000000000.
jobmanager_1      | 2022-07-11 07:24:53,776 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting RPC endpoint for org.apache.flink.runtime.resourcemanager.StandaloneResourceManager at akka://flink/user/rpc/resourcemanager_1 .
jobmanager_1      | 2022-07-11 07:24:53,800 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Starting the resource manager.
jobmanager_1      | 2022-07-11 07:24:53,807 INFO  org.apache.flink.client.ClientUtils                          [] - Starting program (detached: true)
jobmanager_1      | 2022-07-11 07:24:54,721 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 172.24.0.8:41153-fd404a (akka.tcp://flink@172.24.0.8:41153/user/rpc/taskmanager_0) at ResourceManager
jobmanager_1      | 2022-07-11 07:24:54,747 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering TaskManager with ResourceID 172.24.0.8:41153-fd404a (akka.tcp://flink@172.24.0.8:41153/user/rpc/taskmanager_0) at ResourceManager
jobmanager_1      | 2022-07-11 07:24:55,130 WARN  org.apache.flink.connector.kafka.source.KafkaSourceBuilder   [] - Offset commit on checkpoint is disabled because group.id is not specified
jobmanager_1      | 2022-07-11 07:24:56,332 WARN  org.apache.flink.connector.kafka.source.KafkaSourceBuilder   [] - Offset commit on checkpoint is disabled because group.id is not specified
jobmanager_1      | 2022-07-11 07:24:56,819 INFO  org.apache.flink.client.deployment.application.executors.EmbeddedExecutor [] - Job 98450b6b05eeae4a8b98647a8803769b is submitted.
jobmanager_1      | 2022-07-11 07:24:56,819 INFO  org.apache.flink.client.deployment.application.executors.EmbeddedExecutor [] - Submitting Job with JobId=98450b6b05eeae4a8b98647a8803769b.
jobmanager_1      | 2022-07-11 07:24:56,824 INFO  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Received JobGraph submission 'insert-into_default_catalog.default_database.spend_report' (98450b6b05eeae4a8b98647a8803769b).
jobmanager_1      | 2022-07-11 07:24:56,825 INFO  org.apache.flink.runtime.dispatcher.StandaloneDispatcher     [] - Submitting job 'insert-into_default_catalog.default_database.spend_report' (98450b6b05eeae4a8b98647a8803769b).
jobmanager_1      | 2022-07-11 07:24:56,868 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting RPC endpoint for org.apache.flink.runtime.jobmaster.JobMaster at akka://flink/user/rpc/jobmanager_2 .
jobmanager_1      | 2022-07-11 07:24:56,873 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Initializing job 'insert-into_default_catalog.default_database.spend_report' (98450b6b05eeae4a8b98647a8803769b).
jobmanager_1      | 2022-07-11 07:24:56,884 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Using restart back off time strategy FixedDelayRestartBackoffTimeStrategy(maxNumberRestartAttempts=2147483647, backoffTimeMS=1000) for insert-into_default_catalog.default_database.spend_report (98450b6b05eeae4a8b98647a8803769b).
jobmanager_1      | 2022-07-11 07:24:56,900 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Running initialization on master for job insert-into_default_catalog.default_database.spend_report (98450b6b05eeae4a8b98647a8803769b).
jobmanager_1      | 2022-07-11 07:24:56,900 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Successfully ran initialization on master in 0 ms.
jobmanager_1      | 2022-07-11 07:24:56,929 INFO  org.apache.flink.runtime.scheduler.adapter.DefaultExecutionTopology [] - Built 1 pipelined regions in 0 ms
jobmanager_1      | 2022-07-11 07:24:56,943 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - No state backend has been configured, using default (HashMap) org.apache.flink.runtime.state.hashmap.HashMapStateBackend@3f87e9fc
jobmanager_1      | 2022-07-11 07:24:56,943 INFO  org.apache.flink.runtime.state.StateBackendLoader            [] - State backend loader loads the state backend as HashMapStateBackend
jobmanager_1      | 2022-07-11 07:24:56,944 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Checkpoint storage is set to 'jobmanager'
jobmanager_1      | 2022-07-11 07:24:56,955 INFO  org.apache.flink.runtime.checkpoint.CheckpointCoordinator    [] - No checkpoint found during restore.
jobmanager_1      | 2022-07-11 07:24:56,959 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Using failover strategy org.apache.flink.runtime.executiongraph.failover.flip1.RestartPipelinedRegionFailoverStrategy@3e6f7258 for insert-into_default_catalog.default_database.spend_report (98450b6b05eeae4a8b98647a8803769b).
jobmanager_1      | 2022-07-11 07:24:56,967 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Starting execution of job 'insert-into_default_catalog.default_database.spend_report' (98450b6b05eeae4a8b98647a8803769b) under job master id 00000000000000000000000000000000.
jobmanager_1      | 2022-07-11 07:24:56,968 INFO  org.apache.flink.runtime.source.coordinator.SourceCoordinator [] - Starting split enumerator for source Source: KafkaSource-default_catalog.default_database.transactions.
jobmanager_1      | 2022-07-11 07:24:56,969 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Starting scheduling with scheduling strategy [org.apache.flink.runtime.scheduler.strategy.PipelinedRegionSchedulingStrategy]
jobmanager_1      | 2022-07-11 07:24:56,969 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job insert-into_default_catalog.default_database.spend_report (98450b6b05eeae4a8b98647a8803769b) switched from state CREATED to RUNNING.
jobmanager_1      | 2022-07-11 07:24:57,033 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: KafkaSource-default_catalog.default_database.transactions (1/1) (457298771f536f953828662e9b87c7e1) switched from CREATED to SCHEDULED.
jobmanager_1      | 2022-07-11 07:24:57,052 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - GroupWindowAggregate(groupBy=[account_id], window=[SlidingGroupWindow('log_ts, transaction_time, 300000, 60000)], properties=[EXPR$0], select=[account_id, AVG(amount) AS EXPR$1, start('log_ts) AS EXPR$0]) -> Calc(select=[account_id, EXPR$0 AS log_ts, EXPR$1 AS amount]) -> NotNullEnforcer(fields=[account_id, log_ts]) -> Sink: Sink(table=[default_catalog.default_database.spend_report], fields=[account_id, log_ts, amount]) (1/1) (d41f8722df82cbb97c8e19427b75f9e4) switched from CREATED to SCHEDULED.
jobmanager_1      | 2022-07-11 07:24:57,063 INFO  org.apache.flink.kafka.shaded.org.apache.kafka.clients.consumer.ConsumerConfig [] - ConsumerConfig values: 
jobmanager_1      | 	allow.auto.create.topics = false
jobmanager_1      | 	auto.commit.interval.ms = 5000
jobmanager_1      | 	auto.offset.reset = earliest
jobmanager_1      | 	bootstrap.servers = [kafka:9092]
jobmanager_1      | 	check.crcs = true
jobmanager_1      | 	client.dns.lookup = default
jobmanager_1      | 	client.id = KafkaSource--5034648003524828870-enumerator-consumer
jobmanager_1      | 	client.rack = 
jobmanager_1      | 	connections.max.idle.ms = 540000
jobmanager_1      | 	default.api.timeout.ms = 60000
jobmanager_1      | 	enable.auto.commit = false
jobmanager_1      | 	exclude.internal.topics = true
jobmanager_1      | 	fetch.max.bytes = 52428800
jobmanager_1      | 	fetch.max.wait.ms = 500
jobmanager_1      | 	fetch.min.bytes = 1
jobmanager_1      | 	group.id = null
jobmanager_1      | 	group.instance.id = null
jobmanager_1      | 	heartbeat.interval.ms = 3000
jobmanager_1      | 	interceptor.classes = []
jobmanager_1      | 	internal.leave.group.on.close = true
jobmanager_1      | 	isolation.level = read_uncommitted
jobmanager_1      | 	key.deserializer = class org.apache.flink.kafka.shaded.org.apache.kafka.common.serialization.ByteArrayDeserializer
jobmanager_1      | 	max.partition.fetch.bytes = 1048576
jobmanager_1      | 	max.poll.interval.ms = 300000
jobmanager_1      | 	max.poll.records = 500
jobmanager_1      | 	metadata.max.age.ms = 300000
jobmanager_1      | 	metric.reporters = []
jobmanager_1      | 	metrics.num.samples = 2
jobmanager_1      | 	metrics.recording.level = INFO
jobmanager_1      | 	metrics.sample.window.ms = 30000
jobmanager_1      | 	partition.assignment.strategy = [class org.apache.flink.kafka.shaded.org.apache.kafka.clients.consumer.RangeAssignor]
jobmanager_1      | 	receive.buffer.bytes = 65536
jobmanager_1      | 	reconnect.backoff.max.ms = 1000
jobmanager_1      | 	reconnect.backoff.ms = 50
jobmanager_1      | 	request.timeout.ms = 30000
jobmanager_1      | 	retry.backoff.ms = 100
jobmanager_1      | 	sasl.client.callback.handler.class = null
jobmanager_1      | 	sasl.jaas.config = null
jobmanager_1      | 	sasl.kerberos.kinit.cmd = /usr/bin/kinit
jobmanager_1      | 	sasl.kerberos.min.time.before.relogin = 60000
jobmanager_1      | 	sasl.kerberos.service.name = null
jobmanager_1      | 	sasl.kerberos.ticket.renew.jitter = 0.05
jobmanager_1      | 	sasl.kerberos.ticket.renew.window.factor = 0.8
jobmanager_1      | 	sasl.login.callback.handler.class = null
jobmanager_1      | 	sasl.login.class = null
jobmanager_1      | 	sasl.login.refresh.buffer.seconds = 300
jobmanager_1      | 	sasl.login.refresh.min.period.seconds = 60
jobmanager_1      | 	sasl.login.refresh.window.factor = 0.8
jobmanager_1      | 	sasl.login.refresh.window.jitter = 0.05
jobmanager_1      | 	sasl.mechanism = GSSAPI
jobmanager_1      | 	security.protocol = PLAINTEXT
jobmanager_1      | 	security.providers = null
jobmanager_1      | 	send.buffer.bytes = 131072
jobmanager_1      | 	session.timeout.ms = 10000
jobmanager_1      | 	ssl.cipher.suites = null
jobmanager_1      | 	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
jobmanager_1      | 	ssl.endpoint.identification.algorithm = https
jobmanager_1      | 	ssl.key.password = null
jobmanager_1      | 	ssl.keymanager.algorithm = SunX509
jobmanager_1      | 	ssl.keystore.location = null
jobmanager_1      | 	ssl.keystore.password = null
jobmanager_1      | 	ssl.keystore.type = JKS
jobmanager_1      | 	ssl.protocol = TLS
jobmanager_1      | 	ssl.provider = null
jobmanager_1      | 	ssl.secure.random.implementation = null
jobmanager_1      | 	ssl.trustmanager.algorithm = PKIX
jobmanager_1      | 	ssl.truststore.location = null
jobmanager_1      | 	ssl.truststore.password = null
jobmanager_1      | 	ssl.truststore.type = JKS
jobmanager_1      | 	value.deserializer = class org.apache.flink.kafka.shaded.org.apache.kafka.common.serialization.ByteArrayDeserializer
jobmanager_1      | 
jobmanager_1      | 2022-07-11 07:24:57,074 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Connecting to ResourceManager akka.tcp://flink@jobmanager:6123/user/rpc/resourcemanager_*(00000000000000000000000000000000)
jobmanager_1      | 2022-07-11 07:24:57,078 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - Resolved ResourceManager address, beginning registration
jobmanager_1      | 2022-07-11 07:24:57,083 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registering job manager 00000000000000000000000000000000@akka.tcp://flink@jobmanager:6123/user/rpc/jobmanager_2 for job 98450b6b05eeae4a8b98647a8803769b.
jobmanager_1      | 2022-07-11 07:24:57,090 INFO  org.apache.flink.runtime.resourcemanager.StandaloneResourceManager [] - Registered job manager 00000000000000000000000000000000@akka.tcp://flink@jobmanager:6123/user/rpc/jobmanager_2 for job 98450b6b05eeae4a8b98647a8803769b.
jobmanager_1      | 2022-07-11 07:24:57,104 INFO  org.apache.flink.runtime.jobmaster.JobMaster                 [] - JobManager successfully registered at ResourceManager, leader id: 00000000000000000000000000000000.
jobmanager_1      | 2022-07-11 07:24:57,106 INFO  org.apache.flink.runtime.resourcemanager.slotmanager.DeclarativeSlotManager [] - Received resource requirements from job 98450b6b05eeae4a8b98647a8803769b: [ResourceRequirement{resourceProfile=ResourceProfile{UNKNOWN}, numberOfRequiredSlots=1}]
jobmanager_1      | 2022-07-11 07:24:57,167 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.consumer.ConsumerConfig [] - The configuration 'commit.offsets.on.checkpoint' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,167 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.consumer.ConsumerConfig [] - The configuration 'client.id.prefix' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,168 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.consumer.ConsumerConfig [] - The configuration 'partition.discovery.interval.ms' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,170 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.common.utils.AppInfoParser [] - Error while loading kafka-version.properties: null
jobmanager_1      | 2022-07-11 07:24:57,173 INFO  org.apache.flink.kafka.shaded.org.apache.kafka.common.utils.AppInfoParser [] - Kafka version: unknown
jobmanager_1      | 2022-07-11 07:24:57,173 INFO  org.apache.flink.kafka.shaded.org.apache.kafka.common.utils.AppInfoParser [] - Kafka commitId: unknown
jobmanager_1      | 2022-07-11 07:24:57,173 INFO  org.apache.flink.kafka.shaded.org.apache.kafka.common.utils.AppInfoParser [] - Kafka startTimeMs: 1657524297169
jobmanager_1      | 2022-07-11 07:24:57,176 INFO  org.apache.flink.kafka.shaded.org.apache.kafka.clients.admin.AdminClientConfig [] - AdminClientConfig values: 
jobmanager_1      | 	bootstrap.servers = [kafka:9092]
jobmanager_1      | 	client.dns.lookup = default
jobmanager_1      | 	client.id = KafkaSource--5034648003524828870-enumerator-admin-client
jobmanager_1      | 	connections.max.idle.ms = 300000
jobmanager_1      | 	metadata.max.age.ms = 300000
jobmanager_1      | 	metric.reporters = []
jobmanager_1      | 	metrics.num.samples = 2
jobmanager_1      | 	metrics.recording.level = INFO
jobmanager_1      | 	metrics.sample.window.ms = 30000
jobmanager_1      | 	receive.buffer.bytes = 65536
jobmanager_1      | 	reconnect.backoff.max.ms = 1000
jobmanager_1      | 	reconnect.backoff.ms = 50
jobmanager_1      | 	request.timeout.ms = 120000
jobmanager_1      | 	retries = 5
jobmanager_1      | 	retry.backoff.ms = 100
jobmanager_1      | 	sasl.client.callback.handler.class = null
jobmanager_1      | 	sasl.jaas.config = null
jobmanager_1      | 	sasl.kerberos.kinit.cmd = /usr/bin/kinit
jobmanager_1      | 	sasl.kerberos.min.time.before.relogin = 60000
jobmanager_1      | 	sasl.kerberos.service.name = null
jobmanager_1      | 	sasl.kerberos.ticket.renew.jitter = 0.05
jobmanager_1      | 	sasl.kerberos.ticket.renew.window.factor = 0.8
jobmanager_1      | 	sasl.login.callback.handler.class = null
jobmanager_1      | 	sasl.login.class = null
jobmanager_1      | 	sasl.login.refresh.buffer.seconds = 300
jobmanager_1      | 	sasl.login.refresh.min.period.seconds = 60
jobmanager_1      | 	sasl.login.refresh.window.factor = 0.8
jobmanager_1      | 	sasl.login.refresh.window.jitter = 0.05
jobmanager_1      | 	sasl.mechanism = GSSAPI
jobmanager_1      | 	security.protocol = PLAINTEXT
jobmanager_1      | 	security.providers = null
jobmanager_1      | 	send.buffer.bytes = 131072
jobmanager_1      | 	ssl.cipher.suites = null
jobmanager_1      | 	ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]
jobmanager_1      | 	ssl.endpoint.identification.algorithm = https
jobmanager_1      | 	ssl.key.password = null
jobmanager_1      | 	ssl.keymanager.algorithm = SunX509
jobmanager_1      | 	ssl.keystore.location = null
jobmanager_1      | 	ssl.keystore.password = null
jobmanager_1      | 	ssl.keystore.type = JKS
jobmanager_1      | 	ssl.protocol = TLS
jobmanager_1      | 	ssl.provider = null
jobmanager_1      | 	ssl.secure.random.implementation = null
jobmanager_1      | 	ssl.trustmanager.algorithm = PKIX
jobmanager_1      | 	ssl.truststore.location = null
jobmanager_1      | 	ssl.truststore.password = null
jobmanager_1      | 	ssl.truststore.type = JKS
jobmanager_1      | 
jobmanager_1      | 2022-07-11 07:24:57,193 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: KafkaSource-default_catalog.default_database.transactions (1/1) (457298771f536f953828662e9b87c7e1) switched from SCHEDULED to DEPLOYING.
jobmanager_1      | 2022-07-11 07:24:57,195 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Deploying Source: KafkaSource-default_catalog.default_database.transactions (1/1) (attempt #0) with attempt id 457298771f536f953828662e9b87c7e1 to 172.24.0.8:41153-fd404a @ table-walkthrough_taskmanager_1.table-walkthrough_default (dataPort=45111) with allocation id 6a89f5abcdc990899a61d6aa9505c622
jobmanager_1      | 2022-07-11 07:24:57,230 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.admin.AdminClientConfig [] - The configuration 'key.deserializer' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,230 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.admin.AdminClientConfig [] - The configuration 'value.deserializer' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,238 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - GroupWindowAggregate(groupBy=[account_id], window=[SlidingGroupWindow('log_ts, transaction_time, 300000, 60000)], properties=[EXPR$0], select=[account_id, AVG(amount) AS EXPR$1, start('log_ts) AS EXPR$0]) -> Calc(select=[account_id, EXPR$0 AS log_ts, EXPR$1 AS amount]) -> NotNullEnforcer(fields=[account_id, log_ts]) -> Sink: Sink(table=[default_catalog.default_database.spend_report], fields=[account_id, log_ts, amount]) (1/1) (d41f8722df82cbb97c8e19427b75f9e4) switched from SCHEDULED to DEPLOYING.
jobmanager_1      | 2022-07-11 07:24:57,239 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Deploying GroupWindowAggregate(groupBy=[account_id], window=[SlidingGroupWindow('log_ts, transaction_time, 300000, 60000)], properties=[EXPR$0], select=[account_id, AVG(amount) AS EXPR$1, start('log_ts) AS EXPR$0]) -> Calc(select=[account_id, EXPR$0 AS log_ts, EXPR$1 AS amount]) -> NotNullEnforcer(fields=[account_id, log_ts]) -> Sink: Sink(table=[default_catalog.default_database.spend_report], fields=[account_id, log_ts, amount]) (1/1) (attempt #0) with attempt id d41f8722df82cbb97c8e19427b75f9e4 to 172.24.0.8:41153-fd404a @ table-walkthrough_taskmanager_1.table-walkthrough_default (dataPort=45111) with allocation id 6a89f5abcdc990899a61d6aa9505c622
jobmanager_1      | 2022-07-11 07:24:57,239 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.admin.AdminClientConfig [] - The configuration 'commit.offsets.on.checkpoint' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,242 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.admin.AdminClientConfig [] - The configuration 'enable.auto.commit' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,243 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.admin.AdminClientConfig [] - The configuration 'client.id.prefix' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,243 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.admin.AdminClientConfig [] - The configuration 'partition.discovery.interval.ms' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,243 WARN  org.apache.flink.kafka.shaded.org.apache.kafka.clients.admin.AdminClientConfig [] - The configuration 'auto.offset.reset' was supplied but isn't a known config.
jobmanager_1      | 2022-07-11 07:24:57,244 INFO  org.apache.flink.kafka.shaded.org.apache.kafka.common.utils.AppInfoParser [] - Kafka version: unknown
jobmanager_1      | 2022-07-11 07:24:57,244 INFO  org.apache.flink.kafka.shaded.org.apache.kafka.common.utils.AppInfoParser [] - Kafka commitId: unknown
jobmanager_1      | 2022-07-11 07:24:57,244 INFO  org.apache.flink.kafka.shaded.org.apache.kafka.common.utils.AppInfoParser [] - Kafka startTimeMs: 1657524297244
jobmanager_1      | 2022-07-11 07:24:57,258 INFO  org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator [] - Starting the KafkaSourceEnumerator for consumer group null without periodic partition discovery.
jobmanager_1      | 2022-07-11 07:24:57,481 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - GroupWindowAggregate(groupBy=[account_id], window=[SlidingGroupWindow('log_ts, transaction_time, 300000, 60000)], properties=[EXPR$0], select=[account_id, AVG(amount) AS EXPR$1, start('log_ts) AS EXPR$0]) -> Calc(select=[account_id, EXPR$0 AS log_ts, EXPR$1 AS amount]) -> NotNullEnforcer(fields=[account_id, log_ts]) -> Sink: Sink(table=[default_catalog.default_database.spend_report], fields=[account_id, log_ts, amount]) (1/1) (d41f8722df82cbb97c8e19427b75f9e4) switched from DEPLOYING to INITIALIZING.
jobmanager_1      | 2022-07-11 07:24:57,482 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: KafkaSource-default_catalog.default_database.transactions (1/1) (457298771f536f953828662e9b87c7e1) switched from DEPLOYING to INITIALIZING.
jobmanager_1      | 2022-07-11 07:24:57,592 INFO  org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator [] - Discovered new partitions: [transactions-0]
jobmanager_1      | 2022-07-11 07:24:57,833 INFO  org.apache.flink.runtime.source.coordinator.SourceCoordinator [] - Source Source: KafkaSource-default_catalog.default_database.transactions registering reader for parallel task 0 @ 172.24.0.8
jobmanager_1      | 2022-07-11 07:24:57,834 INFO  org.apache.flink.connector.kafka.source.enumerator.KafkaSourceEnumerator [] - Assigning splits to readers {0=[[Partition: transactions-0, StartingOffset: -2, StoppingOffset: -9223372036854775808]]}
jobmanager_1      | 2022-07-11 07:24:57,863 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: KafkaSource-default_catalog.default_database.transactions (1/1) (457298771f536f953828662e9b87c7e1) switched from INITIALIZING to RUNNING.


$ sudo docker-compose logs -f taskmanager
Attaching to table-walkthrough_taskmanager_1
taskmanager_1     | Starting Task Manager
taskmanager_1     | Starting taskexecutor as a console application on host cc83f6a41bfa.
taskmanager_1     | 2022-07-11 07:24:52,024 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - --------------------------------------------------------------------------------
taskmanager_1     | 2022-07-11 07:24:52,025 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  Preconfiguration: 
taskmanager_1     | 2022-07-11 07:24:52,026 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - 
taskmanager_1     | 
taskmanager_1     | 
taskmanager_1     | RESOURCE_PARAMS extraction logs:
taskmanager_1     | jvm_params: -Xmx536870902 -Xms536870902 -XX:MaxDirectMemorySize=268435458 -XX:MaxMetaspaceSize=268435456
taskmanager_1     | dynamic_configs: -D taskmanager.memory.network.min=134217730b -D taskmanager.cpu.cores=1.0 -D taskmanager.memory.task.off-heap.size=0b -D taskmanager.memory.jvm-metaspace.size=268435456b -D external-resources=none -D taskmanager.memory.jvm-overhead.min=201326592b -D taskmanager.memory.framework.off-heap.size=134217728b -D taskmanager.memory.network.max=134217730b -D taskmanager.memory.framework.heap.size=134217728b -D taskmanager.memory.managed.size=536870920b -D taskmanager.memory.task.heap.size=402653174b -D taskmanager.numberOfTaskSlots=1 -D taskmanager.memory.jvm-overhead.max=201326592b
taskmanager_1     | logs: INFO  [] - Loading configuration property: jobmanager.rpc.address, jobmanager
taskmanager_1     | INFO  [] - Loading configuration property: jobmanager.rpc.port, 6123
taskmanager_1     | INFO  [] - Loading configuration property: jobmanager.memory.process.size, 1600m
taskmanager_1     | INFO  [] - Loading configuration property: taskmanager.memory.process.size, 1728m
taskmanager_1     | INFO  [] - Loading configuration property: taskmanager.numberOfTaskSlots, 1
taskmanager_1     | INFO  [] - Loading configuration property: parallelism.default, 1
taskmanager_1     | INFO  [] - Loading configuration property: jobmanager.execution.failover-strategy, region
taskmanager_1     | INFO  [] - Loading configuration property: execution.checkpointing.interval, 10s
taskmanager_1     | INFO  [] - Loading configuration property: pipeline.object-reuse, true
taskmanager_1     | INFO  [] - Loading configuration property: pipeline.time-characteristic, EventTime
taskmanager_1     | INFO  [] - Loading configuration property: taskmanager.memory.jvm-metaspace.size, 256m
taskmanager_1     | INFO  [] - Loading configuration property: blob.server.port, 6124
taskmanager_1     | INFO  [] - Loading configuration property: query.server.port, 6125
taskmanager_1     | INFO  [] - The derived from fraction jvm overhead memory (172.800mb (181193935 bytes)) is less than its min value 192.000mb (201326592 bytes), min value will be used instead
taskmanager_1     | INFO  [] - Final TaskExecutor Memory configuration:
taskmanager_1     | INFO  [] -   Total Process Memory:          1.688gb (1811939328 bytes)
taskmanager_1     | INFO  [] -     Total Flink Memory:          1.250gb (1342177280 bytes)
taskmanager_1     | INFO  [] -       Total JVM Heap Memory:     512.000mb (536870902 bytes)
taskmanager_1     | INFO  [] -         Framework:               128.000mb (134217728 bytes)
taskmanager_1     | INFO  [] -         Task:                    384.000mb (402653174 bytes)
taskmanager_1     | INFO  [] -       Total Off-heap Memory:     768.000mb (805306378 bytes)
taskmanager_1     | INFO  [] -         Managed:                 512.000mb (536870920 bytes)
taskmanager_1     | INFO  [] -         Total JVM Direct Memory: 256.000mb (268435458 bytes)
taskmanager_1     | INFO  [] -           Framework:             128.000mb (134217728 bytes)
taskmanager_1     | INFO  [] -           Task:                  0 bytes
taskmanager_1     | INFO  [] -           Network:               128.000mb (134217730 bytes)
taskmanager_1     | INFO  [] -     JVM Metaspace:               256.000mb (268435456 bytes)
taskmanager_1     | INFO  [] -     JVM Overhead:                192.000mb (201326592 bytes)
taskmanager_1     | 
taskmanager_1     | 2022-07-11 07:24:52,026 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - --------------------------------------------------------------------------------
taskmanager_1     | 2022-07-11 07:24:52,026 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  Starting TaskManager (Version: 1.14.4, Scala: 2.12, Rev:895c609, Date:2022-02-25T11:57:14+01:00)
taskmanager_1     | 2022-07-11 07:24:52,026 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  OS current user: flink
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  Current Hadoop/Kerberos user: <no hadoop dependency found>
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  JVM: OpenJDK 64-Bit Server VM - Oracle Corporation - 1.8/25.322-b06
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  Maximum heap size: 512 MiBytes
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  JAVA_HOME: /usr/local/openjdk-8
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  No Hadoop Dependency available
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  JVM Options:
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -XX:+UseG1GC
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -Xmx536870902
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -Xms536870902
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -XX:MaxDirectMemorySize=268435458
taskmanager_1     | 2022-07-11 07:24:52,027 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -XX:MaxMetaspaceSize=268435456
taskmanager_1     | 2022-07-11 07:24:52,028 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -Dlog.file=/opt/flink/log/flink--taskexecutor-0-cc83f6a41bfa.log
taskmanager_1     | 2022-07-11 07:24:52,028 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -Dlog4j.configuration=file:/opt/flink/conf/log4j-console.properties
taskmanager_1     | 2022-07-11 07:24:52,028 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -Dlog4j.configurationFile=file:/opt/flink/conf/log4j-console.properties
taskmanager_1     | 2022-07-11 07:24:52,028 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -Dlogback.configurationFile=file:/opt/flink/conf/logback-console.xml
taskmanager_1     | 2022-07-11 07:24:52,028 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  Program Arguments:
taskmanager_1     | 2022-07-11 07:24:52,029 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     --configDir
taskmanager_1     | 2022-07-11 07:24:52,029 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     /opt/flink/conf
taskmanager_1     | 2022-07-11 07:24:52,029 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,029 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.network.min=134217730b
taskmanager_1     | 2022-07-11 07:24:52,029 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,030 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.cpu.cores=1.0
taskmanager_1     | 2022-07-11 07:24:52,030 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,030 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.task.off-heap.size=0b
taskmanager_1     | 2022-07-11 07:24:52,030 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,030 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.jvm-metaspace.size=268435456b
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     external-resources=none
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.jvm-overhead.min=201326592b
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.framework.off-heap.size=134217728b
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.network.max=134217730b
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.framework.heap.size=134217728b
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,032 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.managed.size=536870920b
taskmanager_1     | 2022-07-11 07:24:52,033 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,033 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.task.heap.size=402653174b
taskmanager_1     | 2022-07-11 07:24:52,033 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,033 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.numberOfTaskSlots=1
taskmanager_1     | 2022-07-11 07:24:52,033 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     -D
taskmanager_1     | 2022-07-11 07:24:52,033 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -     taskmanager.memory.jvm-overhead.max=201326592b
taskmanager_1     | 2022-07-11 07:24:52,033 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] -  Classpath: /opt/flink/lib/flink-connector-jdbc_2.12-1.14.4.jar:/opt/flink/lib/flink-csv-1.14.4.jar:/opt/flink/lib/flink-json-1.14.4.jar:/opt/flink/lib/flink-shaded-zookeeper-3.4.14.jar:/opt/flink/lib/flink-sql-connector-kafka_2.12-1.14.4.jar:/opt/flink/lib/flink-table_2.12-1.14.4.jar:/opt/flink/lib/log4j-1.2-api-2.17.1.jar:/opt/flink/lib/log4j-api-2.17.1.jar:/opt/flink/lib/log4j-core-2.17.1.jar:/opt/flink/lib/log4j-slf4j-impl-2.17.1.jar:/opt/flink/lib/mysql-connector-java-8.0.19.jar:/opt/flink/lib/flink-dist_2.12-1.14.4.jar:::
taskmanager_1     | 2022-07-11 07:24:52,033 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - --------------------------------------------------------------------------------
taskmanager_1     | 2022-07-11 07:24:52,034 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - Registered UNIX signal handlers for [TERM, HUP, INT]
taskmanager_1     | 2022-07-11 07:24:52,038 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - Maximum number of open file descriptors is 524288.
taskmanager_1     | 2022-07-11 07:24:52,045 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: jobmanager.rpc.address, jobmanager
taskmanager_1     | 2022-07-11 07:24:52,045 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: jobmanager.rpc.port, 6123
taskmanager_1     | 2022-07-11 07:24:52,045 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: jobmanager.memory.process.size, 1600m
taskmanager_1     | 2022-07-11 07:24:52,045 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: taskmanager.memory.process.size, 1728m
taskmanager_1     | 2022-07-11 07:24:52,045 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: taskmanager.numberOfTaskSlots, 1
taskmanager_1     | 2022-07-11 07:24:52,046 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: parallelism.default, 1
taskmanager_1     | 2022-07-11 07:24:52,046 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: jobmanager.execution.failover-strategy, region
taskmanager_1     | 2022-07-11 07:24:52,046 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: execution.checkpointing.interval, 10s
taskmanager_1     | 2022-07-11 07:24:52,046 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: pipeline.object-reuse, true
taskmanager_1     | 2022-07-11 07:24:52,046 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: pipeline.time-characteristic, EventTime
taskmanager_1     | 2022-07-11 07:24:52,046 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: taskmanager.memory.jvm-metaspace.size, 256m
taskmanager_1     | 2022-07-11 07:24:52,046 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: blob.server.port, 6124
taskmanager_1     | 2022-07-11 07:24:52,047 INFO  org.apache.flink.configuration.GlobalConfiguration           [] - Loading configuration property: query.server.port, 6125
taskmanager_1     | 2022-07-11 07:24:52,103 INFO  org.apache.flink.core.fs.FileSystem                          [] - Hadoop is not in the classpath/dependencies. The extended set of supported File Systems via Hadoop is not available.
taskmanager_1     | 2022-07-11 07:24:52,131 INFO  org.apache.flink.runtime.state.changelog.StateChangelogStorageLoader [] - StateChangelogStorageLoader initialized with shortcut names {memory}.
taskmanager_1     | 2022-07-11 07:24:52,135 INFO  org.apache.flink.runtime.state.changelog.StateChangelogStorageLoader [] - StateChangelogStorageLoader initialized with shortcut names {memory}.
taskmanager_1     | 2022-07-11 07:24:52,142 INFO  org.apache.flink.runtime.security.modules.HadoopModuleFactory [] - Cannot create Hadoop Security Module because Hadoop cannot be found in the Classpath.
taskmanager_1     | 2022-07-11 07:24:52,148 INFO  org.apache.flink.runtime.security.modules.JaasModule         [] - Jaas file will be created as /tmp/jaas-8745484204629004965.conf.
taskmanager_1     | 2022-07-11 07:24:52,150 INFO  org.apache.flink.runtime.security.contexts.HadoopSecurityContextFactory [] - Cannot install HadoopSecurityContext because Hadoop cannot be found in the Classpath.
taskmanager_1     | 2022-07-11 07:24:52,475 INFO  org.apache.flink.configuration.Configuration                 [] - Config uses fallback configuration key 'jobmanager.rpc.address' instead of key 'rest.address'
taskmanager_1     | 2022-07-11 07:24:52,482 INFO  org.apache.flink.runtime.util.LeaderRetrievalUtils           [] - Trying to select the network interface and address to use by connecting to the leading JobManager.
taskmanager_1     | 2022-07-11 07:24:52,483 INFO  org.apache.flink.runtime.util.LeaderRetrievalUtils           [] - TaskManager will try to connect for PT10S before falling back to heuristics
taskmanager_1     | 2022-07-11 07:24:52,831 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - TaskManager will use hostname/address 'cc83f6a41bfa' (172.24.0.8) for communication.
taskmanager_1     | 2022-07-11 07:24:52,892 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils        [] - Trying to start actor system, external address 172.24.0.8:0, bind address 0.0.0.0:0.
taskmanager_1     | 2022-07-11 07:24:53,360 INFO  akka.event.slf4j.Slf4jLogger                                 [] - Slf4jLogger started
taskmanager_1     | 2022-07-11 07:24:53,385 INFO  akka.remote.RemoteActorRefProvider                           [] - Akka Cluster not in use - enabling unsafe features anyway because `akka.remote.use-unsafe-remote-features-outside-cluster` has been enabled.
taskmanager_1     | 2022-07-11 07:24:53,387 INFO  akka.remote.Remoting                                         [] - Starting remoting
taskmanager_1     | 2022-07-11 07:24:53,530 INFO  akka.remote.Remoting                                         [] - Remoting started; listening on addresses :[akka.tcp://flink@172.24.0.8:41153]
taskmanager_1     | 2022-07-11 07:24:53,641 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils        [] - Actor system started at akka.tcp://flink@172.24.0.8:41153
taskmanager_1     | 2022-07-11 07:24:53,666 INFO  org.apache.flink.runtime.metrics.MetricRegistryImpl          [] - No metrics reporter configured, no metrics will be exposed/reported.
taskmanager_1     | 2022-07-11 07:24:53,668 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils        [] - Trying to start actor system, external address 172.24.0.8:0, bind address 0.0.0.0:0.
taskmanager_1     | 2022-07-11 07:24:53,706 INFO  akka.event.slf4j.Slf4jLogger                                 [] - Slf4jLogger started
taskmanager_1     | 2022-07-11 07:24:53,721 INFO  akka.remote.RemoteActorRefProvider                           [] - Akka Cluster not in use - enabling unsafe features anyway because `akka.remote.use-unsafe-remote-features-outside-cluster` has been enabled.
taskmanager_1     | 2022-07-11 07:24:53,721 INFO  akka.remote.Remoting                                         [] - Starting remoting
taskmanager_1     | 2022-07-11 07:24:53,784 INFO  akka.remote.Remoting                                         [] - Remoting started; listening on addresses :[akka.tcp://flink-metrics@172.24.0.8:37861]
taskmanager_1     | 2022-07-11 07:24:53,790 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcServiceUtils        [] - Actor system started at akka.tcp://flink-metrics@172.24.0.8:37861
taskmanager_1     | 2022-07-11 07:24:53,808 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting RPC endpoint for org.apache.flink.runtime.metrics.dump.MetricQueryService at akka://flink-metrics/user/rpc/MetricQueryService_172.24.0.8:41153-fd404a .
taskmanager_1     | 2022-07-11 07:24:53,825 INFO  org.apache.flink.runtime.blob.PermanentBlobCache             [] - Created BLOB cache storage directory /tmp/blobStore-47487bea-766c-4973-bf96-00cd79cb875d
taskmanager_1     | 2022-07-11 07:24:53,829 INFO  org.apache.flink.runtime.blob.TransientBlobCache             [] - Created BLOB cache storage directory /tmp/blobStore-6d98714b-fd10-4c9c-a64a-5da638dc7b58
taskmanager_1     | 2022-07-11 07:24:53,836 INFO  org.apache.flink.runtime.externalresource.ExternalResourceUtils [] - Enabled external resources: []
taskmanager_1     | 2022-07-11 07:24:53,837 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - Starting TaskManager with ResourceID: 172.24.0.8:41153-fd404a
taskmanager_1     | 2022-07-11 07:24:53,858 INFO  org.apache.flink.runtime.taskexecutor.TaskManagerServices    [] - Temporary file directory '/tmp': total 123 GB, usable 84 GB (68.29% usable)
taskmanager_1     | 2022-07-11 07:24:53,865 INFO  org.apache.flink.runtime.io.disk.iomanager.IOManager         [] - Created a new FileChannelManager for spilling of task related data to disk (joins, sorting, ...). Used directories:
taskmanager_1     | 	/tmp/flink-io-9eb2b1a2-b9dc-4d25-810e-4d3b12467aea
taskmanager_1     | 2022-07-11 07:24:53,892 INFO  org.apache.flink.runtime.io.network.netty.NettyConfig        [] - NettyConfig [server address: /0.0.0.0, server port: 0, ssl enabled: false, memory segment size (bytes): 32768, transport type: AUTO, number of server threads: 1 (manual), number of client threads: 1 (manual), server connect backlog: 0 (use Netty's default), client connect timeout (sec): 120, send/receive buffer size (bytes): 0 (use Netty's default)]
taskmanager_1     | 2022-07-11 07:24:53,894 INFO  org.apache.flink.runtime.io.network.NettyShuffleServiceFactory [] - Created a new FileChannelManager for storing result partitions of BLOCKING shuffles. Used directories:
taskmanager_1     | 	/tmp/flink-netty-shuffle-2b39e62d-98a8-40d6-9779-3fea4f2d25d0
taskmanager_1     | 2022-07-11 07:24:54,141 INFO  org.apache.flink.runtime.io.network.buffer.NetworkBufferPool [] - Allocated 128 MB for network buffer pool (number of memory segments: 4096, bytes per segment: 32768).
taskmanager_1     | 2022-07-11 07:24:54,168 INFO  org.apache.flink.runtime.io.network.NettyShuffleEnvironment  [] - Starting the network environment and its components.
taskmanager_1     | 2022-07-11 07:24:54,287 INFO  org.apache.flink.runtime.io.network.netty.NettyClient        [] - Transport type 'auto': using EPOLL.
taskmanager_1     | 2022-07-11 07:24:54,290 INFO  org.apache.flink.runtime.io.network.netty.NettyClient        [] - Successful initialization (took 119 ms).
taskmanager_1     | 2022-07-11 07:24:54,295 INFO  org.apache.flink.runtime.io.network.netty.NettyServer        [] - Transport type 'auto': using EPOLL.
taskmanager_1     | 2022-07-11 07:24:54,358 INFO  org.apache.flink.runtime.io.network.netty.NettyServer        [] - Successful initialization (took 66 ms). Listening on SocketAddress /0.0.0.0:45111.
taskmanager_1     | 2022-07-11 07:24:54,359 INFO  org.apache.flink.runtime.taskexecutor.KvStateService         [] - Starting the kvState service and its components.
taskmanager_1     | 2022-07-11 07:24:54,400 INFO  org.apache.flink.runtime.rpc.akka.AkkaRpcService             [] - Starting RPC endpoint for org.apache.flink.runtime.taskexecutor.TaskExecutor at akka://flink/user/rpc/taskmanager_0 .
taskmanager_1     | 2022-07-11 07:24:54,414 INFO  org.apache.flink.runtime.taskexecutor.DefaultJobLeaderService [] - Start job leader service.
taskmanager_1     | 2022-07-11 07:24:54,415 INFO  org.apache.flink.runtime.filecache.FileCache                 [] - User file cache uses directory /tmp/flink-dist-cache-b660a1e7-5785-4217-b2f6-b0bcbaf4057d
taskmanager_1     | 2022-07-11 07:24:54,416 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Connecting to ResourceManager akka.tcp://flink@jobmanager:6123/user/rpc/resourcemanager_*(00000000000000000000000000000000).
taskmanager_1     | 2022-07-11 07:24:54,600 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Resolved ResourceManager address, beginning registration
taskmanager_1     | 2022-07-11 07:24:54,751 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Successful registration at resource manager akka.tcp://flink@jobmanager:6123/user/rpc/resourcemanager_* under registration id 31057bd55e0dd3222d0ee26e399c7cfb.
taskmanager_1     | 2022-07-11 07:24:57,113 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Receive slot request 6a89f5abcdc990899a61d6aa9505c622 for job 98450b6b05eeae4a8b98647a8803769b from resource manager with leader id 00000000000000000000000000000000.
taskmanager_1     | 2022-07-11 07:24:57,116 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Allocated slot for 6a89f5abcdc990899a61d6aa9505c622.
taskmanager_1     | 2022-07-11 07:24:57,117 INFO  org.apache.flink.runtime.taskexecutor.DefaultJobLeaderService [] - Add job 98450b6b05eeae4a8b98647a8803769b for job leader monitoring.
taskmanager_1     | 2022-07-11 07:24:57,119 INFO  org.apache.flink.runtime.taskexecutor.DefaultJobLeaderService [] - Try to register at job manager akka.tcp://flink@jobmanager:6123/user/rpc/jobmanager_2 with leader id 00000000-0000-0000-0000-000000000000.
taskmanager_1     | 2022-07-11 07:24:57,144 INFO  org.apache.flink.runtime.taskexecutor.DefaultJobLeaderService [] - Resolved JobManager address, beginning registration
taskmanager_1     | 2022-07-11 07:24:57,169 INFO  org.apache.flink.runtime.taskexecutor.DefaultJobLeaderService [] - Successful registration at job manager akka.tcp://flink@jobmanager:6123/user/rpc/jobmanager_2 for job 98450b6b05eeae4a8b98647a8803769b.
taskmanager_1     | 2022-07-11 07:24:57,170 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Establish JobManager connection for job 98450b6b05eeae4a8b98647a8803769b.
taskmanager_1     | 2022-07-11 07:24:57,171 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Offer reserved slots to the leader of job 98450b6b05eeae4a8b98647a8803769b.
taskmanager_1     | 2022-07-11 07:24:57,244 INFO  org.apache.flink.runtime.taskexecutor.slot.TaskSlotTableImpl [] - Activate slot 6a89f5abcdc990899a61d6aa9505c622.
taskmanager_1     | 2022-07-11 07:24:57,265 INFO  org.apache.flink.runtime.state.changelog.StateChangelogStorageLoader [] - Creating a changelog storage with name 'memory'.
taskmanager_1     | 2022-07-11 07:24:57,296 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Received task Source: KafkaSource-default_catalog.default_database.transactions (1/1)#0 (457298771f536f953828662e9b87c7e1), deploy into slot with allocation id 6a89f5abcdc990899a61d6aa9505c622.
taskmanager_1     | 2022-07-11 07:24:57,298 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: KafkaSource-default_catalog.default_database.transactions (1/1)#0 (457298771f536f953828662e9b87c7e1) switched from CREATED to DEPLOYING.
taskmanager_1     | 2022-07-11 07:24:57,302 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Loading JAR files for task Source: KafkaSource-default_catalog.default_database.transactions (1/1)#0 (457298771f536f953828662e9b87c7e1) [DEPLOYING].
taskmanager_1     | 2022-07-11 07:24:57,356 INFO  org.apache.flink.runtime.taskexecutor.slot.TaskSlotTableImpl [] - Activate slot 6a89f5abcdc990899a61d6aa9505c622.
taskmanager_1     | 2022-07-11 07:24:57,393 INFO  org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Received task GroupWindowAggregate(groupBy=[account_id], window=[SlidingGroupWindow('log_ts, transaction_time, 300000, 60000)], properties=[EXPR$0], select=[account_id, AVG(amount) AS EXPR$1, start('log_ts) AS EXPR$0]) -> Calc(select=[account_id, EXPR$0 AS log_ts, EXPR$1 AS amount]) -> NotNullEnforcer(fields=[account_id, log_ts]) -> Sink: Sink(table=[default_catalog.default_database.spend_report], fields=[account_id, log_ts, amount]) (1/1)#0 (d41f8722df82cbb97c8e19427b75f9e4), deploy into slot with allocation id 6a89f5abcdc990899a61d6aa9505c622.
taskmanager_1     | 2022-07-11 07:24:57,400 INFO  org.apache.flink.runtime.taskexecutor.slot.TaskSlotTableImpl [] - Activate slot 6a89f5abcdc990899a61d6aa9505c622.
taskmanager_1     | 2022-07-11 07:24:57,408 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - GroupWindowAggregate(groupBy=[account_id], window=[SlidingGroupWindow('log_ts, transaction_time, 300000, 60000)], properties=[EXPR$0], select=[account_id, AVG(amount) AS EXPR$1, start('log_ts) AS EXPR$0]) -> Calc(select=[account_id, EXPR$0 AS log_ts, EXPR$1 AS amount]) -> NotNullEnforcer(fields=[account_id, log_ts]) -> Sink: Sink(table=[default_catalog.default_database.spend_report], fields=[account_id, log_ts, amount]) (1/1)#0 (d41f8722df82cbb97c8e19427b75f9e4) switched from CREATED to DEPLOYING.
taskmanager_1     | 2022-07-11 07:24:57,408 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Loading JAR files for task GroupWindowAggregate(groupBy=[account_id], window=[SlidingGroupWindow('log_ts, transaction_time, 300000, 60000)], properties=[EXPR$0], select=[account_id, AVG(amount) AS EXPR$1, start('log_ts) AS EXPR$0]) -> Calc(select=[account_id, EXPR$0 AS log_ts, EXPR$1 AS amount]) -> NotNullEnforcer(fields=[account_id, log_ts]) -> Sink: Sink(table=[default_catalog.default_database.spend_report], fields=[account_id, log_ts, amount]) (1/1)#0 (d41f8722df82cbb97c8e19427b75f9e4) [DEPLOYING].
taskmanager_1     | 2022-07-11 07:24:57,441 INFO  org.apache.flink.streaming.runtime.tasks.StreamTask          [] - No state backend has been configured, using default (HashMap) org.apache.flink.runtime.state.hashmap.HashMapStateBackend@25fbff10
taskmanager_1     | 2022-07-11 07:24:57,442 INFO  org.apache.flink.runtime.state.StateBackendLoader            [] - State backend loader loads the state backend as HashMapStateBackend
taskmanager_1     | 2022-07-11 07:24:57,442 INFO  org.apache.flink.streaming.runtime.tasks.StreamTask          [] - Checkpoint storage is set to 'jobmanager'
taskmanager_1     | 2022-07-11 07:24:57,470 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - GroupWindowAggregate(groupBy=[account_id], window=[SlidingGroupWindow('log_ts, transaction_time, 300000, 60000)], properties=[EXPR$0], select=[account_id, AVG(amount) AS EXPR$1, start('log_ts) AS EXPR$0]) -> Calc(select=[account_id, EXPR$0 AS log_ts, EXPR$1 AS amount]) -> NotNullEnforcer(fields=[account_id, log_ts]) -> Sink: Sink(table=[default_catalog.default_database.spend_report], fields=[account_id, log_ts, amount]) (1/1)#0 (d41f8722df82cbb97c8e19427b75f9e4) switched from DEPLOYING to INITIALIZING.
taskmanager_1     | 2022-07-11 07:24:57,471 INFO  org.apache.flink.streaming.runtime.tasks.StreamTask          [] - No state backend has been configured, using default (HashMap) org.apache.flink.runtime.state.hashmap.HashMapStateBackend@6a6c1aa8
taskmanager_1     | 2022-07-11 07:24:57,478 INFO  org.apache.flink.runtime.state.StateBackendLoader            [] - State backend loader loads the state backend as HashMapStateBackend
taskmanager_1     | 2022-07-11 07:24:57,478 INFO  org.apache.flink.streaming.runtime.tasks.StreamTask          [] - Checkpoint storage is set to 'jobmanager'
taskmanager_1     | 2022-07-11 07:24:57,478 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: KafkaSource-default_catalog.default_database.transactions (1/1)#0 (457298771f536f953828662e9b87c7e1) switched from DEPLOYING to INITIALIZING.
taskmanager_1     | 2022-07-11 07:24:57,628 WARN  org.apache.flink.metrics.MetricGroup                         [] - The operator name Sink: Sink(table=[default_catalog.default_database.spend_report], fields=[account_id, log_ts, amount]) exceeded the 80 characters length limit and was truncated.
taskmanager_1     | 2022-07-11 07:24:57,801 WARN  org.apache.flink.connector.kafka.source.reader.KafkaSourceReader [] - Offset commit on checkpoint is disabled. Consuming offset will not be reported back to Kafka cluster.
taskmanager_1     | 2022-07-11 07:24:57,805 WARN  org.apache.flink.metrics.MetricGroup                         [] - The operator name GroupWindowAggregate(groupBy=[account_id], window=[SlidingGroupWindow('log_ts, transaction_time, 300000, 60000)], properties=[EXPR$0], select=[account_id, AVG(amount) AS EXPR$1, start('log_ts) AS EXPR$0]) exceeded the 80 characters length limit and was truncated.
taskmanager_1     | Loading class `com.mysql.jdbc.Driver'. This is deprecated. The new driver class is `com.mysql.cj.jdbc.Driver'. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.
taskmanager_1     | 2022-07-11 07:24:57,841 INFO  org.apache.flink.runtime.taskmanager.Task                    [] - Source: KafkaSource-default_catalog.default_database.transactions (1/1)#0 (457298771f536f953828662e9b87c7e1) switched from INITIALIZING to RUNNING.


